{"title":{"en":"G. Prediction","ru":"G. Прогноз"},"contestId":"1809","problemIndex":"G","timeLimit":{"en":"4 seconds","ru":"4 секунды"},"memLimit":{"en":"512 megabytes","ru":"512 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Consider a tournament with $$$n$$$ participants. The rating of the $$$i$$$-th participant is $$$a_i$$$.</p><p>The tournament will be organized as follows. First of all, organizers will assign each participant an index from $$$1$$$ to $$$n$$$. All indices will be unique. Let $$$p_i$$$ be the participant who gets the index $$$i$$$.</p><p>Then, $$$n-1$$$ games will be held. In the first game, participants $$$p_1$$$ and $$$p_2$$$ will play. In the second game, the winner of the first game will play against $$$p_3$$$. In the third game, the winner of the second game will play against $$$p_4$$$, and so on — in the last game, the winner of the $$$(n-2)$$$-th game will play against $$$p_n$$$.</p><p>Monocarp wants to predict the results of all $$$n-1$$$ games (of course, he will do the prediction only after the indices of the participants are assigned). He knows for sure that, when two participants with ratings $$$x$$$ and $$$y$$$ play, and $$$|x - y| &gt; k$$$, the participant with the higher rating wins. But if $$$|x - y| \\le k$$$, any of the two participants may win.</p><p>Among all $$$n!$$$ ways to assign the indices to participants, calculate the number of ways to do this so that Monocarp can predict the results of <span class=\"tex-font-style-bf\">all</span> $$$n-1$$$ games. Since the answer can be large, print it modulo $$$998244353$$$.</p>","ru":"<p>Рассмотрим турнир, в котором участвуют $$$n$$$ спортсменов. Рейтинг $$$i$$$-го спортсмена равен $$$a_i$$$.</p><p>Турнир проходит следующим образом. Сначала каждому спортсмену присваивается индекс — целое число от $$$1$$$ до $$$n$$$. Все индексы различны. Обозначим за $$$p_i$$$ спортсмена с индексом $$$i$$$.</p><p>Затем организаторы проведут $$$n-1$$$ игр. В первой игре будут соревноваться спортсмены $$$p_1$$$ и $$$p_2$$$. Во второй — победитель первой игры и спортсмен $$$p_3$$$. В третьей — победитель второй игры и спортсмен $$$p_4$$$, и так далее — в последней игре будут соревноваться победитель игры $$$(n-2)$$$ и спортсмен $$$p_n$$$.</p><p>Монокарп хочет спрогнозировать результаты каждой из $$$n-1$$$ игр (конечно, он сформирует свой прогноз только после того, как все спортсмены получат свои индексы). Он знает, что когда в игре соревнуются спортсмены с рейтингами $$$x$$$ и $$$y$$$, и при этом $$$|x - y| &gt; k$$$, спортсмен с более высоким рейтингом обязательно побеждает. Но если $$$|x - y| \\le k$$$, победить может любой из двух спортсменов.</p><p>Среди всех $$$n!$$$ способов назначить индексы участникам посчитайте количество таких способов, что Монокарп может точно спрогнозировать результат <span class=\"tex-font-style-bf\">каждой</span> из $$$n-1$$$ игр. Так как ответ может быть очень большим, выведите его по модулю $$$998244353$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains two integers $$$n$$$ and $$$k$$$ ($$$2 \\le n \\le 10^6$$$; $$$0 \\le k \\le 10^9$$$).</p><p>The second line contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$0 \\le a_1 \\le a_2 \\le \\dots \\le a_n \\le 10^9$$$).</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке заданы два целых числа $$$n$$$ и $$$k$$$ ($$$2 \\le n \\le 10^6$$$; $$$0 \\le k \\le 10^9$$$).</p><p>Во второй строке заданы $$$n$$$ целых чисел $$$a_1, a_2, \\dots, a_n$$$ ($$$0 \\le a_1 \\le a_2 \\le \\dots \\le a_n \\le 10^9$$$).</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Print one integer — the number of ways to assign the indices to the participants so that Monocarp can predict the results of all $$$n-1$$$ games.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите одно целое число — количество способов назначить участникам индексы так, чтобы Монокарп мог точно предсказать результат каждой из $$$n-1$$$ игр.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first example, a match with any pair of players can be predicted by Monocarp, so all $$$24$$$ ways to assign indices should be counted.</p><p>In the second example, suitable ways are $$$[1, 3, 2]$$$, $$$[2, 3, 1]$$$, $$$[3, 1, 2$$$] and $$$[3, 2, 1]$$$.</p>","ru":"<div class=\"section-title\">Примечание</div><p>В первом примере Монокарп точно знает результат игры между любой парой игроков, поэтому все $$$24$$$ способа назначить индексы игрокам подходят.</p><p>Во втором примере подходящие способы назначить индексы — такие: $$$[1, 3, 2]$$$, $$$[2, 3, 1]$$$, $$$[3, 1, 2$$$] и $$$[3, 2, 1]$$$.</p>"},"sampleTestcases":[{"id":1680877827163,"input":"4 3\n7 12 17 21\n","output":"24\n"},{"id":1680877827164,"input":"3 7\n4 9 28\n","output":"4\n"},{"id":1680877827165,"input":"4 1\n1 2 3 4\n","output":"0\n"},{"id":1680877827166,"input":"4 1\n1 2 2 4\n","output":"12\n"},{"id":1680877827167,"input":"16 30\n8 12 15 27 39 44 49 50 51 53 58 58 59 67 68 100\n","output":"527461297\n"}],"submitUrl":"https://codeforces.com/contest/1809/submit","language":"c++","isPartOfContest":true}